{"version":3,"file":"static/js/modal-readme.22e6aba1.js","sources":["/Users/c4605/workSpace/js-react-components/static/js/modal-readme.22e6aba1.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{\"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js?!./packages/Modal/src/Modal.scss\":function(e,n,t){(e.exports=t(\"./node_modules/css-loader/dist/runtime/api.js\")(!1)).push([e.i,\".Modal {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1001;\\n}\\n.Modal__html--visible {\\n  overflow: hidden;\\n}\\n.Modal__backdrop {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.2);\\n}\\n.Modal__body {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  display: block;\\n  transform: translate(-50%, -50%);\\n}\",\"\"])},\"./packages/DocumentElement/lib/DocumentElement.js\":function(e,n,t){\"use strict\";t.d(n,\"a\",function(){return i});var a=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\"),s=t(\"./node_modules/react-side-effect/lib/index.js\"),o=t.n(s),l=function(e){return e.children||null};function r(e){var n=new Set(e.join(\" \").split(\" \"));return Array.from(n).filter(Boolean).join(\" \")}l&&l===Object(l)&&Object.defineProperty(l,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"_DocumentElementInner\",filename:\"packages/DocumentElement/lib/DocumentElement.js\"}});var i=o()(function(e){return{style:Object.assign.apply(Object,[{}].concat(Object(a.a)(e.map(function(e){return e.style||{}})))),className:r(e.map(function(e){return e.className||\"\"}))}},function(e){var n=document.documentElement;n.style.cssText=\"\",e.style&&(Object.assign(n.style,e.style),Object.keys(e.style).filter(function(e){return e.startsWith(\"--\")}).forEach(function(t){return n.style.setProperty(t,e.style[t])}));var t=e.className||\"\";t!==n.className&&(n.className=t)})(l);\"undefined\"!==typeof i&&i&&i===Object(i)&&Object.defineProperty(i,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"DocumentElement\",filename:\"packages/DocumentElement/lib/DocumentElement.js\"}})},\"./packages/Modal/README.mdx\":function(e,n,t){\"use strict\";t.r(n);var a=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\"),s=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\"),o=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\"),l=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\"),r=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\"),i=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\"),c=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\"),d=t(\"./node_modules/react/index.js\"),u=t.n(d),m=t(\"./node_modules/@mdx-js/tag/dist/index.js\"),p=t(\"./node_modules/docz/dist/index.esm.js\"),b=t(\"./packages/Portal/lib/Portal.js\"),f=t(\"./packages/DocumentElement/lib/DocumentElement.js\"),h=(t(\"./packages/Modal/src/Modal.scss\"),function(e){var n=e.children,t=Object(s.a)(e,[\"children\"]),a=Object(d.useMemo)(function(){var e=[t.documentElementClassName];return t.visible&&t.documentElementClassNameWhenVisible&&e.push(t.documentElementClassNameWhenVisible),!t.visible&&t.documentElementClassNameWhenInvisible&&e.push(t.documentElementClassNameWhenInvisible),u.a.createElement(f.a,{className:e.join(\" \")})},[t.visible,t.documentElementClassName,t.documentElementClassNameWhenVisible,t.documentElementClassNameWhenInvisible]),o=Object(d.useMemo)(function(){return t.backdrop?u.a.createElement(\"div\",{ref:t.backdropRef,className:t.backdropClassName,onClick:function(){\"static\"!==t.backdrop&&t.onVisibleChange(!1)}}):null},[t.backdrop,t.backdropRef,t.backdropClassName,t.onVisibleChange]),l=Object(d.useMemo)(function(){return u.a.createElement(b.a,{ref:t.portalRef,className:t.portalClassName,visible:t.visible,onVisibleChange:t.onVisibleChange,parent:t.partalParent},o,u.a.createElement(\"div\",{ref:t.bodyRef,className:t.bodyClassName},n))},[t.portalRef,t.portalClassName,t.visible,t.onVisibleChange,t.partalParent,o,t.bodyRef,t.bodyClassName,n]);return u.a.createElement(u.a.Fragment,null,a,l)});function j(e){e.onVisibleChange;var n=e.visible,t=void 0!==n&&n,o=e.children,l=Object(s.a)(e,[\"onVisibleChange\",\"visible\",\"children\"]),r=Object(d.useState)(t),i=Object(a.a)(r,2),c=i[0],m=i[1],p={visible:c,setVisible:m,show:Object(d.useCallback)(function(){return m(!0)},[m]),hide:Object(d.useCallback)(function(){return m(!1)},[m])},b=Object(d.useMemo)(function(){return\"function\"===typeof o&&o(p)},[c,m,o]);return[u.a.createElement(h,Object.assign({visible:c,onVisibleChange:m},l),b),p]}\"undefined\"!==typeof h&&h&&h===Object(h)&&Object.defineProperty(h,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"Modal\",filename:\"packages/Modal/src/Modal.tsx\"}}),h.defaultProps={backdrop:\"clickHide\",documentElementClassName:\"Modal__html\",documentElementClassNameWhenVisible:\"Modal__html--visible\",documentElementClassNameWhenInvisible:null,portalClassName:\"Modal\",backdropClassName:\"Modal__backdrop\",bodyClassName:\"Modal__body\"},j&&j===Object(j)&&Object.defineProperty(j,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"useModal\",filename:\"packages/Modal/src/Modal.tsx\"}}),t.d(n,\"default\",function(){return _});var _=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(r.a)(this,Object(i.a)(n).call(this,e))).layout=null,t}return Object(c.a)(n,e),Object(l.a)(n,[{key:\"render\",value:function(){var e=this.props,n=e.components,t=Object(s.a)(e,[\"components\"]);return u.a.createElement(m.MDXTag,{name:\"wrapper\",components:n},u.a.createElement(m.MDXTag,{name:\"h1\",components:n,props:{id:\"c4605react-modal\"}},\"@c4605/react-modal\"),u.a.createElement(m.MDXTag,{name:\"h2\",components:n,props:{id:\"introduction\"}},\"Introduction\"),u.a.createElement(m.MDXTag,{name:\"p\",components:n},\"A simple modal component. Provide react hook \",u.a.createElement(m.MDXTag,{name:\"a\",components:n,parentName:\"p\",props:{href:\"#use-react-hook\"}},u.a.createElement(m.MDXTag,{name:\"inlineCode\",components:n,parentName:\"a\"},\"useModal\")),\".\"),u.a.createElement(m.MDXTag,{name:\"h2\",components:n,props:{id:\"properties\"}},\"Properties\"),u.a.createElement(p.d,{of:h}),u.a.createElement(m.MDXTag,{name:\"h2\",components:n,props:{id:\"basic-usage\"}},\"Basic Usage\"),u.a.createElement(p.c,{__position:1,__code:\"() => {\\n  const [visible, setVisible] = useState(false)\\n  const showModal = useCallback(() => setVisible(true), [setVisible])\\n  const hideModal = useCallback(() => setVisible(false), [setVisible])\\n  return (\\n    <>\\n      <button onClick={showModal}>show modal</button>\\n      <Modal visible={visible} onVisibleChange={setVisible}>\\n        <div\\n          style={{\\n            display: 'flex',\\n            alignItems: 'center',\\n            justifyContent: 'center',\\n            maxWidth: '576px',\\n            width: 'calc(100vw - 72px)',\\n            height: '100px',\\n            borderRadius: '6px',\\n            background: '#fff',\\n          }}\\n        >\\n          <button onClick={hideModal}>hide modal</button>\\n        </div>\\n      </Modal>\\n    </>\\n  )\\n}\",__scope:{props:this?this.props:t,useState:d.useState,useCallback:d.useCallback,useMemo:d.useMemo,Playground:p.c,Props:p.d,Modal:h,useModal:j}},function(){var e=Object(d.useState)(!1),n=Object(a.a)(e,2),t=n[0],s=n[1],o=Object(d.useCallback)(function(){return s(!0)},[s]),l=Object(d.useCallback)(function(){return s(!1)},[s]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(\"button\",{onClick:o},\"show modal\"),u.a.createElement(h,{visible:t,onVisibleChange:s},u.a.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",maxWidth:\"576px\",width:\"calc(100vw - 72px)\",height:\"100px\",borderRadius:\"6px\",background:\"#fff\"}},u.a.createElement(\"button\",{onClick:l},\"hide modal\"))))}),u.a.createElement(m.MDXTag,{name:\"h2\",components:n,props:{id:\"use-react-hook\"}},\"Use React Hook\"),u.a.createElement(p.c,{__position:2,__code:\"() => {\\n  const [modal, helpers] = useModal({\\n    children: helpers => (\\n      <div\\n        style={{\\n          display: 'flex',\\n          alignItems: 'center',\\n          justifyContent: 'center',\\n          maxWidth: '576px',\\n          width: 'calc(100vw - 72px)',\\n          height: '100px',\\n          borderRadius: '6px',\\n          background: '#fff',\\n        }}\\n      >\\n        <button onClick={helpers.hide}>hide modal</button>\\n      </div>\\n    ),\\n  })\\n  return (\\n    <>\\n      <button onClick={helpers.show}>show modal</button>\\n      {modal}\\n    </>\\n  )\\n}\",__scope:{props:this?this.props:t,useState:d.useState,useCallback:d.useCallback,useMemo:d.useMemo,Playground:p.c,Props:p.d,Modal:h,useModal:j}},function(){var e=j({children:function(e){return u.a.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",maxWidth:\"576px\",width:\"calc(100vw - 72px)\",height:\"100px\",borderRadius:\"6px\",background:\"#fff\"}},u.a.createElement(\"button\",{onClick:e.hide},\"hide modal\"))}}),n=Object(a.a)(e,2),t=n[0],s=n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(\"button\",{onClick:s.show},\"show modal\"),t)}))}}]),n}(u.a.Component);\"undefined\"!==typeof _&&_&&_===Object(_)&&Object.defineProperty(_,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"MDXContent\",filename:\"packages/Modal/README.mdx\"}}),\"undefined\"!==typeof _&&_&&_===Object(_)&&Object.defineProperty(_,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"MDXContent\",filename:\"packages/Modal/README.mdx\"}}),_.isMDXComponent=!0},\"./packages/Modal/src/Modal.scss\":function(e,n,t){var a=t(\"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js?!./packages/Modal/src/Modal.scss\");\"string\"===typeof a&&(a=[[e.i,a,\"\"]]);var s={hmr:!0,transform:void 0,insertInto:void 0},o=t(\"./node_modules/style-loader/lib/addStyles.js\")(a,s);a.locals&&(e.exports=a.locals),e.hot.accept(\"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js?!./packages/Modal/src/Modal.scss\",function(){var n=t(\"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js?!./packages/Modal/src/Modal.scss\");if(\"string\"===typeof n&&(n=[[e.i,n,\"\"]]),!function(e,n){var t,a=0;for(t in e){if(!n||e[t]!==n[t])return!1;a++}for(t in n)a--;return 0===a}(a.locals,n.locals))throw new Error(\"Aborting CSS HMR due to changed css-modules locals.\");o(n)}),e.hot.dispose(function(){o()})},\"./packages/Portal/lib/Portal.js\":function(e,n,t){\"use strict\";t.d(n,\"a\",function(){return f});var a=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\"),s=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\"),o=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\"),l=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\"),r=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\"),i=t(\"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\"),c=t(\"./node_modules/react/index.js\"),d=t.n(c),u=t(\"./node_modules/react-dom/index.js\"),m=t.n(u),p=t(\"./node_modules/shallowequal/index.js\"),b=t.n(p),f=function(e){function n(){var e;return Object(a.a)(this,n),(e=Object(o.a)(this,Object(l.a)(n).apply(this,arguments))).portal=document.createElement(\"div\"),e._onClickDocument=function(n){e.props.visible&&(!Object(r.a)(e).portal||n.button&&0!==n.button||e.props.clickClose(n)&&e.props.onVisibleChange(!1))},e}return Object(i.a)(n,e),Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this._updateNode(null,this.props)}},{key:\"componentDidUpdate\",value:function(e){this._updateNode(e,this.props)}},{key:\"componentWillUnmount\",value:function(){this._updateNode(this.props,null)}},{key:\"render\",value:function(){return m.a.createPortal(this.props.children,this.portal)}},{key:\"_updateNode\",value:function(e,n){var t=this,a=this.portal;if(e&&n&&e.parent===n.parent||(this._operateParent(e,function(e){return e.removeChild(t.portal)}),this._operateParent(n,function(e){return e.appendChild(t.portal)})),document.removeEventListener(\"click\",this._onClickDocument),(!e&&n&&n.visible||e&&n&&e.visible!==n.visible&&n.visible)&&document.addEventListener(\"click\",this._onClickDocument),n){e&&e.className===n.className||(a.className=n.className.trim()||\"\");var s=e&&e.style,o=n.style;b()(s,o)?a.style.display=n.visible?null:\"none\":(a.style.cssText=\"\",Object.assign(a.style,{display:n.visible?null:\"none\"},o),Object.keys(o).filter(function(e){return e.startsWith(\"--\")}).forEach(function(e){a.style.setProperty(e,o[e])}))}}},{key:\"_operateParent\",value:function(e,n){e&&(\"function\"===typeof e.parent?n(e.parent()):n(e.parent))}}]),n}(d.a.PureComponent);\"undefined\"!==typeof f&&f&&f===Object(f)&&Object.defineProperty(f,\"__filemeta\",{enumerable:!0,configurable:!0,value:{name:\"Portal\",filename:\"packages/Portal/lib/Portal.js\"}}),f.displayName=\"Portal\",f.defaultProps={parent:function(){return document.body},className:\"\",style:{},visible:!0,onVisibleChange:function(){},clickClose:function(){}}}}]);"],"mappings":"AAAA","sourceRoot":""}