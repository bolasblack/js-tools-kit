(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./packages/DocHelpers/useInputValue.tsx":function(e,n,t){"use strict";t.d(n,"a",function(){return r});var o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=t("./node_modules/react/index.js");function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",t=Object(a.useState)(e),r=Object(o.a)(t,2),s=r[0],i=r[1];return[s,Object(a.useCallback)(function(e){i(e.target[n])},[i]),i]}r&&r===Object(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useInputValue",filename:"packages/DocHelpers/useInputValue.tsx"}})},"./packages/DocumentElement/lib/DocumentElement.js":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=t("./node_modules/react-side-effect/lib/index.js"),r=t.n(a),s=function(e){return e.children||null};function i(e){var n=new Set(e.join(" ").split(" "));return Array.from(n).filter(Boolean).join(" ")}s&&s===Object(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"_DocumentElementInner",filename:"packages/DocumentElement/lib/DocumentElement.js"}});var l=r()(function(e){return{style:Object.assign.apply(Object,[{}].concat(Object(o.a)(e.map(function(e){return e.style||{}})))),className:i(e.map(function(e){return e.className||""}))}},function(e){var n=document.documentElement;n.style.cssText="",e.style&&(Object.assign(n.style,e.style),Object.keys(e.style).filter(function(e){return e.startsWith("--")}).forEach(function(t){return n.style.setProperty(t,e.style[t])}));var t=e.className||"";t!==n.className&&(n.className=t)})(s);"undefined"!==typeof l&&l&&l===Object(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DocumentElement",filename:"packages/DocumentElement/lib/DocumentElement.js"}})},"./packages/Popover/README.mdx":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),u=t("./node_modules/react/index.js"),m=t.n(u),d=t("./node_modules/@mdx-js/tag/dist/index.js"),b=t("./node_modules/docz/dist/index.esm.js"),f=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),v=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=t("./node_modules/react-dom/index.js"),h=t.n(g),y=t("./node_modules/shallowequal/index.js"),O=t.n(y),j=function(e){function n(){var e;return Object(s.a)(this,n),(e=Object(l.a)(this,Object(p.a)(n).apply(this,arguments))).portal=document.createElement("div"),e._onClickDocument=function(n){e.props.visible&&(!Object(f.a)(e).portal||n.button&&0!==n.button||e.props.clickClose(n)&&e.props.onVisibleChange(!1))},e}return Object(c.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this._updateNode(null,this.props)}},{key:"componentDidUpdate",value:function(e){this._updateNode(e,this.props)}},{key:"componentWillUnmount",value:function(){this._updateNode(this.props,null)}},{key:"render",value:function(){return h.a.createPortal(this.props.children,this.portal)}},{key:"_updateNode",value:function(e,n){var t=this,o=this.portal;if(e&&n&&e.parent===n.parent||(this._operateParent(e,function(e){return e.removeChild(t.portal)}),this._operateParent(n,function(e){return e.appendChild(t.portal)})),document.removeEventListener("click",this._onClickDocument),(!e&&n&&n.visible||e&&n&&e.visible!==n.visible&&n.visible)&&document.addEventListener("click",this._onClickDocument),n){e&&e.className===n.className||(o.className=n.className.trim()||"");var a=e&&e.style,r=n.style;O()(a,r)?o.style.display=n.visible?null:"none":(o.style.cssText="",Object.assign(o.style,{display:n.visible?null:"none"},r),Object.keys(r).filter(function(e){return e.startsWith("--")}).forEach(function(e){o.style.setProperty(e,r[e])}))}}},{key:"_operateParent",value:function(e,n){e&&("function"===typeof e.parent?n(e.parent()):n(e.parent))}}]),n}(m.a.PureComponent);"undefined"!==typeof j&&j&&j===Object(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Portal",filename:"packages/Portal/lib/Portal.js"}}),j.displayName="Portal",j.defaultProps={parent:function(){return document.body},className:"",style:{},visible:!0,onVisibleChange:function(){},clickClose:function(){}},"undefined"!==typeof PopoverVisibleInfo&&PopoverVisibleInfo&&PopoverVisibleInfo===Object(PopoverVisibleInfo)&&Object.defineProperty(PopoverVisibleInfo,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PopoverVisibleInfo",filename:"packages/Popover/src/Popover.tsx"}}),"undefined"!==typeof PopoverProps&&PopoverProps&&PopoverProps===Object(PopoverProps)&&Object.defineProperty(PopoverProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PopoverProps",filename:"packages/Popover/src/Popover.tsx"}}),"undefined"!==typeof PopoverState&&PopoverState&&PopoverState===Object(PopoverState)&&Object.defineProperty(PopoverState,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PopoverState",filename:"packages/Popover/src/Popover.tsx"}});var P=null,k=function(e){function n(){var e,t;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=Object(l.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a))),Object(v.a)(Object(f.a)(t),"state",{visible:!1,popoverTop:0,popoverLeft:0}),Object(v.a)(Object(f.a)(t),"triggerContainerRef",m.a.createRef()),Object(v.a)(Object(f.a)(t),"contentContainerRef",m.a.createRef()),Object(v.a)(Object(f.a)(t),"clickClose",function(e){if(t.triggerContainerRef.current&&t.contentContainerRef.current&&e.target instanceof HTMLElement){var n=t.triggerContainerRef.current.contains(e.target)||t.contentContainerRef.current.contains(e.target);return"clickInside"===t.props.closeOn?n:"clickOutside"===t.props.closeOn?!n:void 0}}),Object(v.a)(Object(f.a)(t),"changeVisible",function(e){if(e=!t.props.disabled&&e,t.visibleDelegated){if("function"!==typeof t.props.onVisibleChange)return;if(t.visible===e)return;t.props.onVisibleChange(e)}else t.setState({visible:e})}),Object(v.a)(Object(f.a)(t),"onTriggerClick",function(){t.props.disabled||"click"===t.props.openOn&&document.scrollingElement&&t.triggerContainerRef.current&&(t.setState(t.getPositionInfo(t.triggerContainerRef.current,document.scrollingElement)),t.changeVisible(!0))}),Object(v.a)(Object(f.a)(t),"onMouseEnter",function(){if(!t.props.disabled){if("hover"!==t.props.openOn){if(!t.visible)return;if("hover"!==t.props.closeOn)return}document.scrollingElement&&t.triggerContainerRef.current&&(t.setState(t.getPositionInfo(t.triggerContainerRef.current,document.scrollingElement)),t.changeVisible(!0))}}),Object(v.a)(Object(f.a)(t),"onMouseLeave",function(){t.props.disabled||"hover"===t.props.closeOn&&t.changeVisible(!1)}),t}return Object(c.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return P||(P=document.createElement("div"),document.body.appendChild(P)),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{ref:this.triggerContainerRef,className:"Popover__trigger ".concat(this.props.triggerClassName),onClick:this.onTriggerClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.trigger()),m.a.createElement(j,{parent:P,className:"Popover__container ".concat(this.props.popoverClassName),style:this.popoverStyle(),clickClose:this.clickClose,visible:this.visible,onVisibleChange:this.changeVisible},m.a.createElement("div",{ref:this.contentContainerRef,className:"Popover__content",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.visible?this.props.content():null)))}},{key:"popoverStyle",value:function(){if(!this.props.disabled&&document.scrollingElement&&this.triggerContainerRef.current)return this.props.popoverStyle(Object(o.a)({visible:this.visible},this.getPositionInfo(this.triggerContainerRef.current,document.scrollingElement)))}},{key:"getPositionInfo",value:function(e,n){var t=e.getBoundingClientRect();return{popoverTop:n.scrollTop+t.bottom,popoverLeft:n.scrollLeft+t.left+t.width/2}}},{key:"visibleDelegated",get:function(){return"visible"in this.props}},{key:"visible",get:function(){return!this.props.disabled&&(this.visibleDelegated?!!this.props.visible:this.state.visible)}}],[{key:"popoverContainer",get:function(){return P}}]),n}(m.a.PureComponent);Object(v.a)(k,"displayName","Popover"),Object(v.a)(k,"defaultProps",{triggerClassName:"",popoverClassName:"",openOn:"hover",closeOn:"hover",disabled:!1,onVisibleChange:Boolean,popoverStyle:function(e){return{position:"absolute",top:"".concat(e.popoverTop,"px"),left:"".concat(e.popoverLeft,"px"),display:"block",visibility:e.visible?"visible":"hidden",transform:"translateX(-50%)"}}}),"undefined"!==typeof k&&k&&k===Object(k)&&Object.defineProperty(k,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Popover",filename:"packages/Popover/src/Popover.tsx"}});var _=t("./packages/DocumentElement/lib/DocumentElement.js"),C=t("./packages/DocHelpers/useInputValue.tsx");t.d(n,"default",function(){return E});var E=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(p.a)(n).call(this,e))).layout=null,t}return Object(c.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.props,n=e.components,t=Object(r.a)(e,["components"]);return m.a.createElement(d.MDXTag,{name:"wrapper",components:n},m.a.createElement(d.MDXTag,{name:"h1",components:n,props:{id:"c4605react-popover"}},"@c4605/react-popover"),m.a.createElement(d.MDXTag,{name:"h2",components:n,props:{id:"introduction"}},"Introduction"),m.a.createElement(d.MDXTag,{name:"p",components:n},"Powerful and highly customizable popover component, can adapt to most use case."),m.a.createElement(d.MDXTag,{name:"p",components:n},"Support both host visible state inside or ",m.a.createElement(d.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"https://reactjs.org/docs/lifting-state-up.html"}},"lift state up"),"."),m.a.createElement(d.MDXTag,{name:"h2",components:n,props:{id:"properties"}},"Properties"),m.a.createElement(b.d,{of:k}),m.a.createElement(d.MDXTag,{name:"h2",components:n,props:{id:"host-state-inside"}},"Host state inside"),m.a.createElement(b.c,{__position:1,__code:"() => {\n  const [appearDelay, setAppearDelay] = useInputValue(0)\n  const [disappearDelay, setDisappearDelay] = useInputValue(0)\n  const [openOn, setOpenOn] = useInputValue('hover')\n  const [closeOn, setCloseOn] = useInputValue('hover')\n  return (\n    <>\n      {customField(\n        'appearDelay (ms)',\n        <input\n          key=\"appearDelay\"\n          type=\"number\"\n          value={appearDelay}\n          onChange={setAppearDelay}\n        />,\n      )}\n      {customField(\n        'disappearDelay (ms)',\n        <input\n          key=\"disappearDelay\"\n          type=\"number\"\n          value={disappearDelay}\n          onChange={setDisappearDelay}\n        />,\n      )}\n      {customField(\n        'openOn',\n        <select key=\"openOn\" value={openOn} onChange={setOpenOn}>\n          {['hover', 'click'].map(type => (\n            <option key={type} value={type}>\n              {type}\n            </option>\n          ))}\n        </select>,\n      )}\n      {customField(\n        'closeOn',\n        <select key=\"closeOn\" value={closeOn} onChange={setCloseOn}>\n          {['hover', 'clickOutside', 'clickInside'].map(type => (\n            <option key={type} value={type}>\n              {type}\n            </option>\n          ))}\n        </select>,\n      )}\n      <div>\n        <Popover\n          popoverStyle={info => ({\n            ...Popover.defaultProps.popoverStyle(info),\n            transition: 'visibility, top, left',\n            transitionDelay: info.visible\n              ? `${appearDelay / 1000}s`\n              : `${disappearDelay / 1000}s`,\n          })}\n          openOn={openOn}\n          closeOn={closeOn}\n          trigger={() => <p style={{ background: '#ddd' }}>Trigger</p>}\n          content={() => (\n            <p\n              style={{\n                position: 'relative',\n                margin: 0,\n                width: '300px',\n                height: '100px',\n                background: '#eaeaea',\n              }}\n            >\n              Popover Content\n            </p>\n          )}\n        />\n      </div>\n    </>\n  )\n\n  function customField(...children) {\n    return (\n      <p>\n        <label>{children}</label>\n      </p>\n    )\n  }\n}",__scope:{props:this?this.props:t,useState:u.useState,useRef:u.useRef,Playground:b.c,Props:b.d,Popover:k,DocumentElement:_.a,useInputValue:C.a},__codesandbox:"undefined"},function(){var e=Object(C.a)(0),n=Object(a.a)(e,2),t=n[0],r=n[1],s=Object(C.a)(0),i=Object(a.a)(s,2),l=i[0],p=i[1],c=Object(C.a)("hover"),u=Object(a.a)(c,2),d=u[0],b=u[1],f=Object(C.a)("hover"),v=Object(a.a)(f,2),g=v[0],h=v[1];return m.a.createElement(m.a.Fragment,null,y("appearDelay (ms)",m.a.createElement("input",{key:"appearDelay",type:"number",value:t,onChange:r})),y("disappearDelay (ms)",m.a.createElement("input",{key:"disappearDelay",type:"number",value:l,onChange:p})),y("openOn",m.a.createElement("select",{key:"openOn",value:d,onChange:b},["hover","click"].map(function(e){return m.a.createElement("option",{key:e,value:e},e)}))),y("closeOn",m.a.createElement("select",{key:"closeOn",value:g,onChange:h},["hover","clickOutside","clickInside"].map(function(e){return m.a.createElement("option",{key:e,value:e},e)}))),m.a.createElement("div",null,m.a.createElement(k,{popoverStyle:function(e){return Object(o.a)({},k.defaultProps.popoverStyle(e),{transition:"visibility, top, left",transitionDelay:e.visible?"".concat(t/1e3,"s"):"".concat(l/1e3,"s")})},openOn:d,closeOn:g,trigger:function(){return m.a.createElement("p",{style:{background:"#ddd"}},"Trigger")},content:function(){return m.a.createElement("p",{style:{position:"relative",margin:0,width:"300px",height:"100px",background:"#eaeaea"}},"Popover Content")}})));function y(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return m.a.createElement("p",null,m.a.createElement("label",null,n))}}),m.a.createElement(d.MDXTag,{name:"h2",components:n,props:{id:"lifting-state-up"}},"Lifting State Up"),m.a.createElement(b.c,{__position:2,__code:"() => {\n  const [visible, setVisible] = useState(false)\n  return (\n    <>\n      <button onClick={() => setVisible(!visible)}>Toggle Poppover</button>\n      <Popover\n        visible={visible}\n        onVisibleChange={setVisible}\n        openOn=\"click\"\n        closeOn=\"clickInside\"\n        trigger={() => (\n          <p style={{ background: '#ddd' }}>Click me to show popover</p>\n        )}\n        content={() => (\n          <p\n            style={{\n              position: 'relative',\n              margin: 0,\n              width: '300px',\n              height: '100px',\n              background: '#eaeaea',\n            }}\n          >\n            Click me to hide poppover\n          </p>\n        )}\n      />\n    </>\n  )\n}",__scope:{props:this?this.props:t,useState:u.useState,useRef:u.useRef,Playground:b.c,Props:b.d,Popover:k,DocumentElement:_.a,useInputValue:C.a},__codesandbox:"undefined"},function(){var e=Object(u.useState)(!1),n=Object(a.a)(e,2),t=n[0],o=n[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement("button",{onClick:function(){return o(!t)}},"Toggle Poppover"),m.a.createElement(k,{visible:t,onVisibleChange:o,openOn:"click",closeOn:"clickInside",trigger:function(){return m.a.createElement("p",{style:{background:"#ddd"}},"Click me to show popover")},content:function(){return m.a.createElement("p",{style:{position:"relative",margin:0,width:"300px",height:"100px",background:"#eaeaea"}},"Click me to hide poppover")}}))}))}}]),n}(m.a.Component);"undefined"!==typeof E&&E&&E===Object(E)&&Object.defineProperty(E,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"packages/Popover/README.mdx"}}),"undefined"!==typeof E&&E&&E===Object(E)&&Object.defineProperty(E,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"packages/Popover/README.mdx"}}),E.isMDXComponent=!0}}]);
//# sourceMappingURL=popover-readme.a9ad181c4971bec9a186.js.map