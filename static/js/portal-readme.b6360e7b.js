(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./packages/DocHelpers/useInputValue.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/react/index.js");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",n=Object(o.useState)(e),l=Object(a.a)(n,2),r=l[0],s=l[1];return[r,Object(o.useCallback)(function(e){s(e.target[t])},[s]),s]}l&&l===Object(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useInputValue",filename:"packages/DocHelpers/useInputValue.tsx"}})},"./packages/DocumentElement/lib/DocumentElement.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("./node_modules/react-side-effect/lib/index.js"),l=n.n(o),r=function(e){return e.children||null};function s(e){var t=new Set(e.join(" ").split(" "));return Array.from(t).filter(Boolean).join(" ")}r&&r===Object(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"_DocumentElementInner",filename:"packages/DocumentElement/lib/DocumentElement.js"}});var c=l()(function(e){return{style:Object.assign.apply(Object,[{}].concat(Object(a.a)(e.map(function(e){return e.style||{}})))),className:s(e.map(function(e){return e.className||""}))}},function(e){var t=document.documentElement;t.style.cssText="",e.style&&(Object.assign(t.style,e.style),Object.keys(e.style).filter(function(e){return e.startsWith("--")}).forEach(function(n){return t.style.setProperty(n,e.style[n])}));var n=e.className||"";n!==t.className&&(t.className=n)})(r);"undefined"!==typeof c&&c&&c===Object(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DocumentElement",filename:"packages/DocumentElement/lib/DocumentElement.js"}})},"./packages/Portal/README.mdx":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("./node_modules/react/index.js"),p=n.n(u),m=n("./node_modules/@mdx-js/tag/dist/index.js"),d=n("./node_modules/docz/dist/index.esm.js"),b=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),f=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=n("./node_modules/react-dom/index.js"),j=n.n(h),k=n("./node_modules/shallowequal/index.js"),O=n.n(k);"undefined"!==typeof PortalProps&&PortalProps&&PortalProps===Object(PortalProps)&&Object.defineProperty(PortalProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PortalProps",filename:"packages/Portal/src/Portal.tsx"}});var y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o))),Object(f.a)(Object(b.a)(n),"portal",document.createElement("div")),Object(f.a)(Object(b.a)(n),"_onClickDocument",function(e){n.props.visible&&(!Object(b.a)(n).portal||e.button&&0!==e.button||n.props.clickClose(e)&&n.props.onVisibleChange(!1))}),n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._updateNode(null,this.props)}},{key:"componentDidUpdate",value:function(e){this._updateNode(e,this.props)}},{key:"componentWillUnmount",value:function(){this._updateNode(this.props,null)}},{key:"render",value:function(){return j.a.createPortal(this.props.children,this.portal)}},{key:"_updateNode",value:function(e,t){var n=this,a=this.portal;if(e&&t&&e.parent===t.parent||(this._operateParent(e,function(e){return e.removeChild(n.portal)}),this._operateParent(t,function(e){return e.appendChild(n.portal)})),document.removeEventListener("click",this._onClickDocument),(!e&&t&&t.visible||e&&t&&e.visible!==t.visible&&t.visible)&&document.addEventListener("click",this._onClickDocument),t){e&&e.className===t.className||(a.className=t.className.trim()||"");var o=e&&e.style,l=t.style;O()(o,l)?a.style.display=t.visible?null:"none":(a.style.cssText="",Object.assign(a.style,{display:t.visible?null:"none"},l),Object.keys(l).filter(function(e){return e.startsWith("--")}).forEach(function(e){a.style.setProperty(e,l[e])}))}}},{key:"_operateParent",value:function(e,t){e&&("function"===typeof e.parent?t(e.parent()):t(e.parent))}}]),t}(p.a.PureComponent);Object(f.a)(y,"displayName","Portal"),Object(f.a)(y,"defaultProps",{parent:function(){return document.body},className:"",style:{},visible:!0,onVisibleChange:function(){},clickClose:function(){}}),"undefined"!==typeof y&&y&&y===Object(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Portal",filename:"packages/Portal/src/Portal.tsx"}});var v=n("./packages/DocumentElement/lib/DocumentElement.js"),g=n("./packages/DocHelpers/useInputValue.tsx");n.d(t,"default",function(){return _});var _=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).layout=null,n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.components,n=Object(o.a)(e,["components"]);return p.a.createElement(m.MDXTag,{name:"wrapper",components:t},p.a.createElement(m.MDXTag,{name:"h1",components:t,props:{id:"c4605react-portal"}},"@c4605/react-portal"),p.a.createElement(m.MDXTag,{name:"h2",components:t,props:{id:"introduction"}},"Introduction"),p.a.createElement(m.MDXTag,{name:"p",components:t},"Strong enough ",p.a.createElement(m.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"https://reactjs.org/docs/react-dom.html#createportal"}},p.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"a"},"React.createPortal"))," replacement. Make most ",p.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"React.createPortal")," use case more easier."),p.a.createElement(m.MDXTag,{name:"h2",components:t,props:{id:"properties"}},"Properties"),p.a.createElement(d.d,{of:y}),p.a.createElement(m.MDXTag,{name:"h2",components:t,props:{id:"usage"}},"Usage"),p.a.createElement(d.c,{__position:1,__code:"() => {\n  const portalContentRef = useRef()\n  const [visible, setVisible] = useState(false)\n\n  const [closeOnClick, setCloseOnClick] = useInputValue(false, 'checked')\n\n  const [closeOnOutsideClick, setCloseOnOutsideClick] = useInputValue(\n    false,\n    'checked',\n  )\n\n  const clickClose = event => {\n    if (!(event.target instanceof HTMLElement)) return\n    if (!portalContentRef.current) return\n    if (closeOnClick) {\n      return portalContentRef.current.contains(event.target)\n    } else if (closeOnOutsideClick) {\n      return !portalContentRef.current.contains(event.target)\n    }\n    return\n  }\n\n  return (\n    <div>\n      <p>\n        <label>\n          closeOnClick\n          <input\n            type=\"checkbox\"\n            checked={closeOnClick}\n            onChange={setCloseOnClick}\n          />\n        </label>\n      </p>\n      <p>\n        <label>\n          closeOnOutsideClick\n          <input\n            type=\"checkbox\"\n            checked={closeOnOutsideClick}\n            onChange={setCloseOnOutsideClick}\n          />\n        </label>\n      </p>\n      <p>\n        <button type=\"button\" onClick={() => setVisible(true)}>\n          Show Portal\n        </button>\n      </p>\n      <DocumentElement style={visible ? { overflow: 'hidden' } : {}} />\n      <Portal\n        visible={visible}\n        clickClose={clickClose}\n        onVisibleChange={setVisible}\n      >\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            background: '#00000050',\n          }}\n        >\n          <div\n            ref={portalContentRef}\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              minWidth: '300px',\n              minHeight: '300px',\n              background: '#fff',\n            }}\n          >\n            <p>Portal content</p>\n            <p>\n              <button type=\"button\" onClick={() => setVisible(false)}>\n                Close Portal\n              </button>\n            </p>\n          </div>\n        </div>\n      </Portal>\n    </div>\n  )\n}",__scope:{props:this?this.props:n,useState:u.useState,useRef:u.useRef,Playground:d.c,Props:d.d,Portal:y,DocumentElement:v.a,useInputValue:g.a},__codesandbox:"undefined"},function(){var e=Object(u.useRef)(),t=Object(u.useState)(!1),n=Object(a.a)(t,2),o=n[0],l=n[1],r=Object(g.a)(!1,"checked"),s=Object(a.a)(r,2),c=s[0],i=s[1],m=Object(g.a)(!1,"checked"),d=Object(a.a)(m,2),b=d[0],f=d[1];return p.a.createElement("div",null,p.a.createElement("p",null,p.a.createElement("label",null,"closeOnClick",p.a.createElement("input",{type:"checkbox",checked:c,onChange:i}))),p.a.createElement("p",null,p.a.createElement("label",null,"closeOnOutsideClick",p.a.createElement("input",{type:"checkbox",checked:b,onChange:f}))),p.a.createElement("p",null,p.a.createElement("button",{type:"button",onClick:function(){return l(!0)}},"Show Portal")),p.a.createElement(v.a,{style:o?{overflow:"hidden"}:{}}),p.a.createElement(y,{visible:o,clickClose:function(t){if(t.target instanceof HTMLElement&&e.current)return c?e.current.contains(t.target):b?!e.current.contains(t.target):void 0},onVisibleChange:l},p.a.createElement("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#00000050"}},p.a.createElement("div",{ref:e,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"300px",minHeight:"300px",background:"#fff"}},p.a.createElement("p",null,"Portal content"),p.a.createElement("p",null,p.a.createElement("button",{type:"button",onClick:function(){return l(!1)}},"Close Portal"))))))}))}}]),t}(p.a.Component);"undefined"!==typeof _&&_&&_===Object(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"packages/Portal/README.mdx"}}),"undefined"!==typeof _&&_&&_===Object(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"packages/Portal/README.mdx"}}),_.isMDXComponent=!0}}]);
//# sourceMappingURL=portal-readme.a9ad181c4971bec9a186.js.map