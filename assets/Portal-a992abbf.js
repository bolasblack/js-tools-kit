import{r as c}from"./index-8db94870.js";import{r as u}from"./index-8ce4a492.js";import{s as d}from"./index-67a74965.js";class h extends c.PureComponent{constructor(){super(...arguments),this._portalEl=document.createElement("div"),this._onClickDocument=t=>{var e,i;this.props.visible&&((i=(e=this.props).onVisibleChange)===null||i===void 0||i.call(e,!1,{event:t}))}}componentDidMount(){var t;((t=this.props.baseElement)!==null&&t!==void 0?t:document.documentElement).addEventListener("click",this._onClickDocument),this._assignRef(this.props.portalContainerRef,this._portalEl),this._updatePortalEl(this._portalEl,null,this.props)}componentDidUpdate(t){this._updatePortalEl(this._portalEl,t,this.props)}componentWillUnmount(){var t;((t=this.props.baseElement)!==null&&t!==void 0?t:document.documentElement).removeEventListener("click",this._onClickDocument),this._updatePortalEl(this._portalEl,this.props,null),this._assignRef(this.props.portalContainerRef,null)}render(){return this._getParent(this.props)?u.createPortal(this.props.children,this._portalEl):c.createElement("div",{className:this.props.className,style:{...this._getDisplayStyle(this.props.visible),...this.props.style}},this.props.children)}_updatePortalEl(t,e,i){var a,r,o;if((!e||!i||e.parent!==i.parent)&&(this._operateParent(e,s=>s==null?void 0:s.removeChild(t)),this._operateParent(i,s=>s==null?void 0:s.appendChild(t))),i){(!e||e.className!==i.className)&&(t.className=((a=i.className)===null||a===void 0?void 0:a.trim())||"");const s=(r=e&&e.style)!==null&&r!==void 0?r:{},l=(o=i.style)!==null&&o!==void 0?o:{};d(s,l)?i.visible?t.style.removeProperty("display"):t.style.display="none":(t.style.cssText="",Object.assign(t.style,this._getDisplayStyle(i.visible),l),Object.keys(l).filter(n=>n.startsWith("--")).forEach(n=>{t.style.setProperty(n,l[n])}))}}_assignRef(t,e){t!=null&&(typeof t=="function"?t(e):t.current=e)}_getDisplayStyle(t){return t?{}:{display:"none"}}_getParent(t){return t.parent===void 0?document.body:typeof t.parent=="function"?t.parent():t.parent}_operateParent(t,e){t&&e(this._getParent(t))}}h.displayName="Portal";export{h as P};
//# sourceMappingURL=Portal-a992abbf.js.map
